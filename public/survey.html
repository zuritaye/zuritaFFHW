<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Friend Finder</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" type="text/css" href="mystyle.css" />

    <!-- Latest compiled and minified CSS & JS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>

    <!-- Font CSS Icons glyphicons -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" />
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/fonts/glyphicons-halflings-regular.woff2" /> -->


</head>
<style>
    body { 
          background: plum;
          }
        
        </style>

<!-- Survey questions -->

<body>
    <div class="container">
        <br>
        <!-- Jumbotron -->
        <div class="jumbotron" style="background-color: lightblue">
            <h1 class="text">Begin Your Survey Questions</h1>
        </div>
        <!-- <div class="row"> -->
        <!-- About information and link to photo image -->
        <div class="col-lg-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">
                        <strong>
                            <p>About You </p>
                        </strong>
                    </h3>
                </div>

                <div class="panel-body">
                    <form role="form">

                        <div class="form-group">
                            <strong>
                                <label for="name-input">Name (Required)</label>
                                <input class="form-control" id="name-input" type="text">
                            </strong>
                        </div>
                        <div class="form-group">
                            <strong>
                                <label for="link-input">Link to Photo Image (Required)</label>
                                <input class="form-control" id="photo" type="text">
                            </strong>
                        </div>
                    </form>
                    <hr>
                    <!-- QUESTIONS -->
                    <form>
                        <div class="form-group">
                            <h5>
                                <label id="#q1" for="exampleFormQuestion1">Question 1</label>
                            </h5>
                            <h6>
                                <label for="exampleFormControlSelect1">Your feelings are easily hurt.</label>
                            </h6>
                            <select class="form-control" id="exampleFormControlSelect1" style="width: 155px;">
                                <option>Select an Option</option>
                                <option>1 (Strongly Disagree)</option>
                                <option>2</option>
                                <option>3</option>
                                <option>4</option>
                                <option>5 (Strongly Agree)</option>
                            </select>
                            <br>
                            <h5>
                                <label id="#q2" for="exampleFormQuestion1">Question 2</label>
                            </h5>
                            <h6>
                                <label for="exampleFormControlSelect1">Your supportive of others but berate
                                    yourself.
                                </label>
                            </h6>
                            <select class="form-control" id="exampleFormControlSelect1" style="width: 155px;">
                                <option>Select an Option</option>
                                <option>1 (Strongly Disagree)</option>
                                <option>2</option>
                                <option>3</option>
                                <option>4</option>
                                <option>5 (Strongly Agree)</option>
                            </select>
                            <br>
                            <h5>
                                <label id="#q3" for="exampleFormQuestion1">Question 3</label>
                            </h5>
                            <h6>
                                <label for="exampleFormControlSelect1">You feel undeserving.
                                </label>
                            </h6>
                            <select class="form-control" id="exampleFormControlSelect1" style="width: 155px;">
                                <option>Select an Option</option>
                                <option>1 (Strongly Disagree)</option>
                                <option>2</option>
                                <option>3</option>
                                <option>4</option>
                                <option>5 (Strongly Agree)</option>
                            </select>
                            <br>
                            <h5>
                                <label id="#q4" for="exampleFormQuestion1">Question 4</label>
                            </h5>
                            <h6>
                                <label for="exampleFormControlSelect1">You rarely do something just out of
                                    curiosity.
                                </label>
                            </h6>
                            <select class="form-control" id="exampleFormControlSelect1" style="width: 155px;">
                                <option>Select an Option</option>
                                <option>1 (Strongly Disagree)</option>
                                <option>2</option>
                                <option>3</option>
                                <option>4</option>
                                <option>5 (Strongly Agree)</option>
                            </select>
                            <br>
                            <h5>
                                <label id="#q5" for="exampleFormQuestion1">Question 5</label>
                            </h5>
                            <h6>
                                <label for="exampleFormControlSelect1">People can rarely upset you.
                                </label>
                            </h6>
                            <select class="form-control" id="exampleFormControlSelect1" style="width: 155px;">
                                <option>Select an Option</option>
                                <option>1 (Strongly Disagree)</option>
                                <option>2</option>
                                <option>3</option>
                                <option>4</option>
                                <option>5 (Strongly Agree)</option>
                            </select>
                            <br>
                            <h5>
                                <label id="#q6" for="exampleFormQuestion1">Question 6</label>
                            </h5>
                            <h6>
                                <label for="exampleFormControlSelect1">It's difficult for you to relate to other
                                    peopleâ€™s
                                    feelings.

                                </label>
                            </h6>
                            <select class="form-control" id="exampleFormControlSelect1" style="width: 155px;">
                                <option>Select an Option</option>
                                <option>1 (Strongly Disagree)</option>
                                <option>2</option>
                                <option>3</option>
                                <option>4</option>
                                <option>5 (Strongly Agree)</option>
                            </select>
                            <br>
                            <h5>
                                <label id="#q7" for="exampleFormQuestion1">Question 7</label>
                            </h5>
                            <h6>
                                <label for="exampleFormControlSelect1">You hesitate to do things because of what
                                    others
                                    might think.
                                </label>
                            </h6>
                            <select class="form-control" id="exampleFormControlSelect1" style="width: 155px;">
                                <option>Select an Option</option>
                                <option>1 (Strongly Disagree)</option>
                                <option>2</option>
                                <option>3</option>
                                <option>4</option>
                                <option>5 (Strongly Agree)</option>
                            </select>
                            <br>
                            <h5>
                                <label id="#q8" for="exampleFormQuestion1">Question 8</label>
                            </h5>
                            <h6>
                                <label for="exampleFormControlSelect1">You get carried away by fantasies and ideas.
                                </label>
                            </h6>
                            <select class="form-control" id="exampleFormControlSelect1" style="width: 155px;">
                                <option>Select an Option</option>
                                <option>1 (Strongly Disagree)</option>
                                <option>2</option>
                                <option>3</option>
                                <option>4</option>
                                <option>5 (Strongly Agree)</option>
                            </select>
                            <br>
                            <h5>
                                <label id="#q9" for="exampleFormQuestion1">Question 9</label>
                            </h5>
                            <h6>
                                <label for="exampleFormControlSelect1">You are high maintenance.
                            </h6>
                            <select class="form-control" id="exampleFormControlSelect1" style="width: 155px;">
                                <option>Select an Option</option>
                                <option>1 (Strongly Disagree)</option>
                                <option>2</option>
                                <option>3</option>
                                <option>4</option>
                                <option>5 (Strongly Agree)</option>
                            </select>
                            <br>
                            <h5>
                                <label id="#q10" for="exampleFormQuestion1">Question 10</label>
                            </h5>
                            <h6>
                                <label for="exampleFormControlSelect1">It's difficult for you to be honest, even
                                    when
                                    your words may be hurtful or unpopular.
                                </label>
                            </h6>
                            <select class="form-control" id="exampleFormControlSelect1" style="width: 155px;">
                                <option>Select an Option</option>
                                <option>1 (Strongly Disagree)</option>
                                <option>2</option>
                                <option>3</option>
                                <option>4</option>
                                <option>5 (Strongly Agree)</option>
                            </select>
                            <br>
                        </div>
                    </form>
                    <!-- Submit button  -->
                    <button type="submit" class="btn btn-primary btn-lg btn-block button">Submit</button>

                </div>

                <br>
                <br>

                <!-- Footer -->
  <hr>
  <footer class="footer" style="background-color: lightblue">
    <div class="col s4 text-center">
        <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/zuritaye/zuritaFFHW">GitHub Repo</a></p>
    </div>
    <h5 class="text-center">
      <small>Be Kind...Always
        <i class="fa fa-heart"></i>
      </small>
    </h5>
  </footer>
                <!--Modal-->
                <div id="results-modal" class="modal fade" role="dialog">
                    <div class="modal-dialog">

                        <div class="modal-content">
                            <div class="modal-header">
                                <button class="close" data-dismiss="modal">&times;</button>
                                <h5 class="modal-title">Best Match!</h5>
                            </div>
                            <div class="modal-body">
                                <h5 id="match-name"></h5>
                                <img id="match-img" src=""
                                    alt="">
                            </div>
                            <div class="modal-footer">
                                <button class="btn btn-primary" data-dismiss="modal">Close</button>
                            </div>
                        </div>

                    </div>
                </div>

                <!-- jQuery -->
                <script type="text/javascript">
                    // Modal Event 
                    var config = {
                        ".chosen-select": {},
                        ".chosen-select-deselect": {
                            allow_single_deselect: true
                        },
                        ".chosen-select-no-single": {
                            disable_search_threshold: 10
                        },
                        ".chosen-select-no-results": {
                            no_results_text: "Sorry... nothing found!"
                        },
                        ".chosen-select-width": {
                            width: "95%"
                        }
                    };
                    for (var selector in config) {
                        $(selector).chosen(config[selector]);
                    }

                    // Capture survey inputs 
                    $("#submit").on("click", function (event) {
                        event.preventDefault();

                        // Vaidate form 
                        function validateForm() {
                            var isValid = true;
                            $(".form-control").each(function () {
                                if ($(this).val() === "") {
                                    isValid = false;
                                }
                            });

                            $(".chosen-select").each(function () {

                                if ($(this).val() === "") {
                                    isValid = false;
                                }
                            });
                            return isValid;
                        }

                        // Form completion  
                        if (validateForm() == true) {

                            // Create new friend from the values submitted
                            var newFriend = {
                                name: $('#name').val(),
                                photo: $('#photo').val(),
                                scores: [
                                    $('#q1').val(),
                                    $('#q2').val(),
                                    $('#q3').val(),
                                    $('#q4').val(),
                                    $('#q5').val(),
                                    $('#q6').val(),
                                    $('#q7').val(),
                                    $('#q8').val(),
                                    $('#q9').val(),
                                    $('#q10').val()
                                ]
                            };

                            // AJAX to post the data to friend API
                            $.post("/api/friends", newFriend, function (data) {
                                // Grab the result from the AJAX post to display best match name/photo
                                $("#match-name").text(data.name);
                                $("#match-image").attr("src", data.photo);

                                // Display the modal with the best match
                                $("#results-modal").modal("toggle");

                            });
                        } else {
                            alert("Please fill out All fields before submitting survey!")
                        }

                    });

                </script>

</body>

</html>